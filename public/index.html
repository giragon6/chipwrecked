<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="icon" type="image/png" href="assets/chipwrecked_logo.png"> -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link href="output.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <title>Chipwrecked Casino</title>
</head>
<body>
    <div id="game-container" class="flex flex-col items-center justify-center">
        <!-- Player Customization Screen -->
        <div id="customization-screen">
            <div class="screen-content">
                <h1 class="text-3xl font-bold mb-3">chipwrecked</h1>
                <h3 class="text-xl font-bold mb-3">LET'S GO GAMBLING!!!</h3>
                <div class="customization-form">
                    <div class="form-group">
                        <label for="player-name">name:</label>
                        <input type="text" id="player-name" placeholder="Enter your name" maxlength="12">
                    </div>
                    
                    <div class="form-group">
                        <label>color:</label>
                        <div class="color-picker">
                            <div class="color-option selected" data-color="0x3498db" style="background-color: #3498db;"></div>
                            <div class="color-option" data-color="0xe74c3c" style="background-color: #e74c3c;"></div>
                            <div class="color-option" data-color="0x2ecc71" style="background-color: #2ecc71;"></div>
                            <div class="color-option" data-color="0xf39c12" style="background-color: #f39c12;"></div>
                            <div class="color-option" data-color="0x9b59b6" style="background-color: #9b59b6;"></div>
                            <div class="color-option" data-color="0xe67e22" style="background-color: #e67e22;"></div>
                            <div class="color-option" data-color="0x1abc9c" style="background-color: #1abc9c;"></div>
                            <div class="color-option" data-color="0x34495e" style="background-color: #34495e;"></div>
                        </div>
                    </div>
                    
                    <div class="preview-section flex flex-col items-center">
                        <p>Preview:</p>
                        <canvas id="player-preview" width="60" height="60"></canvas>
                        <p id="preview-name">Player</p>
                    </div>
                    
                    <button id="enter-casino-button">Enter Casino</button>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="flex flex-col items-center justify-center">
            <div class="screen-content">
                <h2 class="text-3xl">üé∞ Loading Casino... üé∞</h2>
                <div class="loading-spinner"></div>
                <p class="text-xl" id="loading-status">Connecting to server...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <!-- Game UI -->
        <div id="game-ui" style="display: none;" class="w-full h-full">
            <div id="balance-display">Balance: $1000</div>
            <div id="connection-status">Connected</div>
            <div id="player-info">
                <canvas id="mini-player-display" width="30" height="30"></canvas>
                <span id="player-name-display">Player</span>
            </div>
            <div id="shove-cooldown" style="position: absolute; top: 80px; left: 20px; color: #e74c3c; font-size: 12px; z-index: 1000; display: none;">
                Shove cooldown: <span id="shove-timer">0</span>s
            </div>
            <div id="leaderboard">
                <h3>üèÜ Leaderboard</h3>
                <div id="leaderboard-list">
                </div>
            </div>
            <div id="movement-hint">
                <span class="desktop-hint">Use WASD or Arrow Keys to move around the casino<br>Press SPACE near another player to shove them ($5, 3s cooldown)<br>Click to move to a location</span>
                <span class="mobile-hint" style="display: none;">Use touch controls to move around<br>DOUBLE TAP near another player ($5, 3s cooldown)</span>
            </div>
            <div id="game-canvas" class="h-full w-full"></div>
            
            <div id="slot-menu">
                <div id="slot-info">
                    <h3 id="slot-title">Slot Machine</h3>
                    <div id="slot-tier-info"></div>
                    <p id="slot-cost">Cost: $10 per spin</p>
                </div>
                <div id="slot-result"></div>
                <div style="display: flex; gap: 16px; justify-content: center; margin-top: 16px; align-items: center;">
                    <button id="spin-button">Spin!</button>
                    <button id="claim-button" style="display: none;">Claim Result!</button>
                    <button id="close-menu-button">Close</button>
                </div>
            </div>

            <!-- Click-to-move indicator -->
            <div id="click-to-move-indicator"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.70.0/phaser.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/SlotMachineSprite.js"></script>
    <script src="js/PlayerSprite.js"></script>
    <script src="js/GameScene.js"></script>
    <script src="js/CustomizationScreen.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
